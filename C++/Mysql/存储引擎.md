# 存储引擎
## MyISAM
### 存储格式
1. 静态表（默认，固定长度）：
静态表的优点是存储迅速，容易缓存，出现故障容易回复，缺点是占用的空间通常比动多。静态表的数据在存储的时候会按照列的宽度定义补足空格，返回时会去掉空格，若本身内容自带空格，则也会被去掉。
2. 动态表：
动态表包含变长字段，优点是空间占用会比较小，但频繁地更新删除记录会产生碎片，而且出现故障时难以恢复。
3. 压缩表：访问开支比较小
## InnoDB
InnoDB存储引擎提供了具有提交、回滚和崩溃恢复能力的事务安全，对比MyISAM存储引擎，其写的处理效率比较差，且会占用更多的磁盘空间来保留数据和索引。
### 自动增长列
可以手工插入，若插入的值为0或为空，则实际插入的是自动增长的值。
对于InnoDB表而言，自动增长列必须是索引，若是组合索引，则必须是组合索引的第一列。而对于MyIASM表，自动增长列可以是组合索引的其他列。
### 外键约束（只有InnoDB支持）
当一个表被其他表创建了外键参照，那么该表的对应索引或主键禁止删除。
### 存储方式
InnoDB存储表和索引有两种方式：
1. 使用共享表空间存储，创建的表结构保存在`.fm`文件中，数据和索引保持在`innodb_data_home_dir`和`innodb_data_file_path`定义的表空间中。
2. 使用多表空间存储。创建的表结构保存在`.fm`文件中，但每个表的数据和索引单独保存在`.ibd`中。
## MEMORY
MEMORY存储引擎使用存在内存中的内容来创建表，每个表只实际对应一个磁盘文件，默认使用HASH索引，一旦服务关闭，则表中数据会丢失。
MEMORY类型的存储引擎主要用于内容变化不频繁的代码表，或者作为统计操作的中间结果表，便于高效地对中间结果进行分析并得到最终的统计结果。
## MERGE
MERGE存储引擎是一组MyISAM表的组合，要求这些表结构完全相同。
## 存储引擎选择
1. MyIASM：主要应用于以读操作和插入操作为主，少更新删除操作，对事物的完整性、并发性要求不高的场景。
2. InnoDB：用于事务处理应用程序，支持外键。
3. MEMORY：将所有数据保存在RAM中，在需要快速定位记录和其他类似数据的环境下，可提供极快的访问。
4. MERGE：优点是可以突破对单个MyISAM表大小的限制，并且通过将不同的表分布在多个磁盘上，可以有效地改善MERGE表的访问效率，适合数据仓储等VLDB环境。