# Iterator
## Iterator运算
迭代器支持加减运算和比较运算
```
1. *iter 返回iter所指对象得引用
2. iter->mem 解引用返回iter所指对象得mem成员
3. ++iter 迭代器位置后移，指向下一个元素
4. --iter 迭代器位置前移，指向上一个元素
5. iter1 == iter2 判断iter1和iter2是否相等
6. iter1 != iter2 判断iter1和iter2不相等
7. iter = iter + n 迭代器iter向后偏移n个元素
8. iter = iter -n 迭代器iter 向前偏移n个元素
9. iter1 >= iter2 迭代器iter1指向的元素是否在iter2之后
```
## Iterator类型
迭代器的标准库类型一般用iterator和const_iterator来表示迭代器的类型。const_iterator表示能读取不能修改其指向的元素，iterator则是可读可写。
```
    // it能读写vector<int>的元素
    vector<int>::iterator it;
    // it2能读写string对象中的字符
    vector<string>::iterator it2;
    // it3 只能读元素,不能写元素
    vector<int>::const_iterator it3;
    // it4 只能读字符，不能写字符
    vector<string>::const_iterator it4;
```
# 解引用
因为`*`优先级比.低，所以在迭代器解引用时要将`*`和迭代器括起来，如`(*iter).empty()`
# 迭代器失效
在通过迭代器遍历vector,string ,map等容器时，如果遍历的循环中添加元素或者删除元素会导致迭代器失效，因为添加元素或者删除元素会影响迭代器的值，可以通过如下方式在遍历的同时删除元素。
```
    auto itdel = text.begin();
    while (itdel != text.end())
    {
        if (itdel->empty())
        {
            itdel = text.erase(itdel);
            continue;
        }
        itdel++;
    }
```
`vector::erase`方法的返回值是一个迭代器，指向被删除元素的下一个元素。如果删除的是最后一个元素，则返回指向`vector`末尾的迭代器。而`vector::insert`方法的返回值是一个迭代器，指向插入的元素位置。